

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>forge.blade.core.api module &mdash; Neural MMO 1.3 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="forge.blade.core.config module" href="forge.blade.core.config.html" />
    <link rel="prev" title="forge.blade.core.market.visualizer module" href="forge.blade.core.market.visualizer.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Neural MMO
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guide:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html"> Welcome to the Platform!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#ags-overview"> Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#ags-quickstart"> Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#ags-tutorials"> Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#ags-namesake"> Namesake</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#ags-version-history"> Version History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#ags-ideology"> Ideology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#ags-authorship-license-disclaimer"> Authorship, License, Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#ags-assets"> Assets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#ags-additional-resources"> Additional Resources</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="forge.html">forge package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="forge.blade.html">forge.blade package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="forge.blade.core.html">forge.blade.core package</a></li>
<li class="toctree-l4"><a class="reference internal" href="forge.blade.entity.html">forge.blade.entity package</a></li>
<li class="toctree-l4"><a class="reference internal" href="forge.blade.hook.html">forge.blade.hook package</a></li>
<li class="toctree-l4"><a class="reference internal" href="forge.blade.io.html">forge.blade.io package</a></li>
<li class="toctree-l4"><a class="reference internal" href="forge.blade.item.html">forge.blade.item package</a></li>
<li class="toctree-l4"><a class="reference internal" href="forge.blade.lib.html">forge.blade.lib package</a></li>
<li class="toctree-l4"><a class="reference internal" href="forge.blade.systems.html">forge.blade.systems package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="forge.embyr.html">forge.embyr namespace</a></li>
<li class="toctree-l3"><a class="reference internal" href="forge.ethyr.html">forge.ethyr package</a></li>
<li class="toctree-l3"><a class="reference internal" href="forge.trinity.html">forge.trinity package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="projekt.html">projekt package</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Neural MMO</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">API Reference</a> &raquo;</li>
        
          <li><a href="forge.html">forge package</a> &raquo;</li>
        
          <li><a href="forge.blade.html">forge.blade package</a> &raquo;</li>
        
          <li><a href="forge.blade.core.html">forge.blade.core package</a> &raquo;</li>
        
      <li>forge.blade.core.api module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/autodoc/forge.blade.core.api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-forge.blade.core.api">
<span id="forge-blade-core-api-module"></span><h1>forge.blade.core.api module<a class="headerlink" href="#module-forge.blade.core.api" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="forge.blade.core.api.Realm">
<em class="property">class </em><code class="sig-prename descclassname">forge.blade.core.api.</code><code class="sig-name descname">Realm</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">idx=0</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.api.Realm" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This module is a stub reference to the core Neural MMO environment
(Realm) that documents the external API. NMMO conforms to the OpenAI Gym
API function signatures, but argument/return contents are different in
order to support additional environment features (e.g. persistence,
multi/variable agent populations, hierarchical observation/action spaces,
etc.). Internal docs available at <a class="reference internal" href="forge.blade.core.realm.html#module-forge.blade.core.realm" title="forge.blade.core.realm"><code class="xref py py-mod docutils literal notranslate"><span class="pre">forge.blade.core.realm</span></code></a></p>
<dl class="method">
<dt id="forge.blade.core.api.Realm.step">
<code class="sig-name descname">step</code><span class="sig-paren">(</span><em class="sig-param">decisions</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.api.Realm.step" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulates one game tick of the Neural MMO server</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>decisions</strong> – <p>A dictionary of entity (agent) action choices of format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="n">ent_1</span><span class="p">:</span> <span class="p">{</span>
      <span class="n">action_1</span><span class="p">:</span> <span class="p">[</span><span class="n">arg_1</span><span class="p">,</span> <span class="n">arg_2</span><span class="p">],</span>
      <span class="n">action_2</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span><span class="p">],</span>
      <span class="o">...</span>
   <span class="p">},</span>
   <span class="n">ent_2</span><span class="p">:</span> <span class="p">{</span>
      <span class="o">...</span>
   <span class="p">},</span>
   <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Structuring actions in this form is handled for
you by <code class="xref py py-mod docutils literal notranslate"><span class="pre">forge.blade.core.io.io</span></code>’</p>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl>
<dt>observations:</dt><dd><p>A list of observations for each agent of format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
   <span class="p">(</span><span class="n">env_1</span><span class="p">,</span> <span class="n">ent_1</span><span class="p">),</span>
   <span class="p">(</span><span class="n">env_2</span><span class="p">,</span> <span class="n">ent_2</span><span class="p">),</span>
   <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Where <em>env_i</em> is a local grid crop of tiles centered on the
i’th agent and <em>ent_i</em> is the i’th agent. These are raw game
object for usage with the forge.io api.</p>
</dd>
<dt>reward:</dt><dd><p>A list of rewards for each agent. Rewards are either
floating point values or <em>None</em>. A value of <em>None</em> indicates either
that the agent spawned this game tick (timestep), hence no action
has been taken to generate a reward, or that the agent has died.
The value of done will specify the latter case. By default,
<em>0</em> will be returned for all non-<em>None</em> values.</p>
</dd>
<dt>dones:</dt><dd><p>A set of entIDs corresponding to agents that have died
during the past game tick. It is up to the user to interpret
these as episode bounds during rollout collection, as well as
to append an episode termination reward (e.g. -1) if desired.</p>
</dd>
<dt>info:</dt><dd><p>Provided only for conformity with OpenAI Gym.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(list, list, set, None)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>It is possible to specify invalid action combinations, such as
two movements or two attacks. In this case, one will be selected
arbitrarily from each incompatible set. This also means that it is
possible to specify empty action sets, in which case the agent will
still consume resources but otherwise take no action.</p>
</dd></dl>

<dl class="method">
<dt id="forge.blade.core.api.Realm.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.api.Realm.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Call exactly once upon environment initialization to obtain the
first set of observations. Neural MMO is persistent: it does not
provide a reset method after initialization. Episode bounds are
instead specified by agent lifetimes. If you must experiment with
short-lived environment instances, simply instantiate a new Realm.
This method internally does nothing more than call self.step({}).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(observations, rewards, dones, info) as documented by step()</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="forge.blade.core.api.Realm.reward">
<code class="sig-name descname">reward</code><span class="sig-paren">(</span><em class="sig-param">entID</em><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.api.Realm.reward" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the environment protocol for rewarding agents. You can
override this method to specify custom reward behavior with full
access to the environment state via self.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>reward:</dt><dd><p>The reward for the actions on the previous timestep of the
entity identified by entID.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float or None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Reward value will be None upon agent spawn (first game tick alive)
and upon death. You will need to interpret the “done” signal
during rollout collection (e.g. as -1).</p>
</dd></dl>

<dl class="method">
<dt id="forge.blade.core.api.Realm.spawn">
<code class="sig-name descname">spawn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#forge.blade.core.api.Realm.spawn" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the protocol for adding agents to the environment. You can
override this method to specify custom spawning behavior with full
access to the environment state via self.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>entID:</dt><dd><p>An integer used to uniquely identify the entity</p>
</dd>
<dt>popID:</dt><dd><p>An integer used to identity membership within a population</p>
</dd>
<dt>prefix:</dt><dd><p>The agent will be named prefix + entID</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(int, int, str)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This API hook is mainly intended for population-based research. In
particular, it allows you to define behavior that selectively
spawns agents into particular populations based on the current game
state – for example, current population sizes or performance.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="forge.blade.core.config.html" class="btn btn-neutral float-right" title="forge.blade.core.config module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="forge.blade.core.market.visualizer.html" class="btn btn-neutral float-left" title="forge.blade.core.market.visualizer module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Joseph Suarez

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #000e0e;
    }
    /* Sidebar */
    .wy-nav-side {
      background: #001818;
    }
    .wy-nav-content {
      background: #000e0e;
    }
    .wy-nav-content-wrap {
      background: #001818;
    }

    .wy-table-responsive table td, .wy-table-responsive table th {
      /* !important prevents the common CSS stylesheets from
             overriding this as on RTD they are loaded after this stylesheet */
      white-space: normal !important;
    }
       
    .wy-table-responsive {
      overflow: visible !important;
    }

    //This one is the one that does something?
    .row-odd {
      background: #ff0000;
    }

    .row-even {
      background: #00ffff;
    }

    /* Top line */
    hr {
      border-top-color: teal;
      border-top-style: solid;
      border-top-width: 3px;
    }

    /* ****** Begin Tables ****** */

    /*Don't even think about changing this.
    Spent 3 hours pulling this from an rtd bitbucket PR*/ 
    wy-table-odd td, .wy-table-striped tr:nth-child(2n-1) td, .rst-content table.docutils:not(.field-list) tr:nth-child(2n-1) td {
      background-color: #001818;
    }

    wy-table-even td, .wy-table-striped tr:nth-child(2n) td, .rst-content table.docutils:not(.field-list) tr:nth-child(2n) td {
      background-color: #000e0e;
    }

    /* Outer table */
    .wy-table-bordered-all, .rst-content table.docutils {
      border: 1px solid #0f0;
        border-top-color: #00ffff;
        border-top-style: solid;
        border-top-width: 1px;
        border-right-color: #00ffff;
        border-right-style: solid;
        border-right-width: 1px;
        border-bottom-color: #00ffff;
        border-bottom-style: solid;
        border-bottom-width: 1px;
        border-left-color: #00ffff;
        border-left-style: solid;
        border-left-width: 1px;
        border-image-outset: 0;
        border-image-repeat: stretch;
        border-image-slice: 100%;
        border-image-source: none;
        border-image-width: 1;
    }

    /* Table header underline */
    .wy-table thead th, .rst-content table.docutils thead th, .rst-content table.field-list thead th {
        font-weight: bold;
        border-bottom-color: rgb(055, 0, 0);
        border-bottom-style: solid;
        border-bottom-width: 0px;
    }

    /* Inner table border */
    .wy-table-bordered-all td, .rst-content table.docutils td {
        border-bottom-color: rgb(255, 0, 0);
        border-bottom-style: solid;
        border-bottom-width: 0px;
        border-left-color: rgb(255, 0, 0);
        border-left-style: solid;
        border-left-width: 0px;
    }
    /* ****** End Tables ****** */

    /* ****** Start selection for left sidebar ****** */
    .wy-menu-vertical li.current{
      background: #001818;
    }

    .wy-menu-vertical li.toctree-l1.current > a{
      background: #001818;
      border-top-color: lime;
      border-top-style: solid;
      border-top-width: 3px;
      border-bottom-color: lime;
      border-bottom-style: solid;
      border-bottom-width: 3px;
      
    }

    .rst-content pre.literal-block, .rst-content div[class^="highlight"] {
      border-top-color: #00ffff;
      border-top-style: solid;
      border-top-width: 1px;
      border-right-color: #00ffff;
      border-right-style: solid;
      border-right-width: 1px;
      border-bottom-color: #00ffff;
      border-bottom-style: solid;
      border-bottom-width: 1px;
      border-left-color: #00ffff;
      border-left-style: solid;
      border-left-width: 1px;
      border-image-outset: 0;
      border-image-repeat: stretch;
      border-image-slice: 100%;
      border-image-source: none;
      border-image-width: 1;
    }

    .wy-menu-vertical li.toctree-l2.current li.toctree-l3 > a {
      display: block;
      background: #00bbbb;
      padding: .4045em 4.045em;
    }

    .wy-menu-vertical li.toctree-l2.current > a {
      background: #001818;
      padding: .4045em 2.427em;
    }

    .wy-menu-vertical li.toctree-l3.current li.toctree-l4 > a {
      display: block;
      background: #001818;
      padding: .4045em 5.663em;
    }

    .wy-menu-vertical li.toctree-l2.current li.toctree-l3 > a {
      display: block;
      background: #001818;
      padding: .4045em 4.045em;
    }

    /* ****** End selection for left sidebar ****** */

    /* Bullet(?) blocks */
    .rst-content dl:not(.docutils) dt {
      display: table;
      margin: 6px 0;
      margin-top: 6px;
      font-size: 90%;
      line-height: normal;
      background: #001818;
      color: #00bbbb;
      border-top: solid 6px #005050;
      padding: 6px;
      position: relative;
    }

    /* ****** Start Code Blocks ****** */
    .highlight-python {
      background: #00ffff;
      border: #00ffff;
    }

    .highlight {
      background: #001818;
      color: #00bbbb;
    }
    /* ****** End Code Blocks ****** */

    /* Buttons */
    .btn-neutral {
      background-color: #005050 !important;
      color: #00ffff !important;
    }

    /* Buttons */
    .btn-neutral:visited {
      background-color: #005050 !important;
      color: #00ffff !important;
    }

    .rst-content dl:not(.docutils) dl dt {
      margin-bottom: 6px;
      border-left: solid 0px #00000;
      background: #001818;
      color: #00bbbb;
      }

    code, .rst-content tt, .rst-content code {
      background-color: #001818;
      border-top-width: 0px;
      border-bottom-width: 0px;
      border-left-width: 0px;
      border-right-width: 0px;
    }

    .rst-content dl:not(.docutils) dl dt {
      border-left-color: #001818;
    }

    .rst-content tt, .rst-content tt, .rst-content code {
      color: #00bbbb;
    }

    .rst-content tt.xref, a .rst-content tt, .rst-content tt.xref, .rst-content code.xref, a .rst-content tt, a .rst-content code {
      color:#00bbbb;
    }

    .wy-menu-vertical li.toctree-l2 a, .wy-menu-vertical li.toctree-l3 a, .wy-menu-vertical li.toctree-l4 a {
      color:#00ff00;
    }

    .wy-menu-vertical li.on a, .wy-menu-vertical li.current > a {
      color: #00ff00;
    }

    .wy-menu-vertical li.current a {
      border-right: solid 1px #001818;
      padding: .4045em 2.427em;
    }

    .wy-menu-vertical header, .wy-menu-vertical p.caption {
       color: 
       #00bbbb;
       line-height: 32px;
       font-weight: bold;
       text-transform: uppercase;
       font-size: 85%;
       white-space: nowrap;
    }

    footer {
      color: #005050;
    }

    p {
      color: #00bbbb;
    }
    h1 {
      color: lime;
    }

    h2 {
      color: aqua;
    }

    h3 {
      color: teal;
    }

    h4 {
      color: blue;
    }

    ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    li {
      padding-left: 1em; 
      text-indent: -.7em;
    }

    li {
      content: "• ";
      color: cyan; /* or whatever color you prefer */
      }

    a:link {
      color: lime;
    }

    /* visited link */
    a:visited {
      color: lime;
    }

  </style>


</body>
</html>